import{t as z,q as $,w as I,_ as A,ai as B,B as M,C as H,W as K,ab as Y,aa as F,a6 as O,o as G,a5 as J,v as b,aj as P,ak as Q,u as D,al as U,K as g,am as X,l as Z,h as x,a0 as R,i as S,a as y,p as aa,b as ea,s as C,g as e,e as sa,m as p,an as k,ao as ta,ap as ra,c as oa,r as la,f as na}from"./template.COwmcSXu.js";import{o as fa,a as ia,c as ca}from"./index-client.DZfQ7Cfc.js";import{i as L,g as N,c as da}from"./functions.C6jaUUrX.js";import{l as _a,i as va,c as T}from"./translation.5y5Qr1Qo.js";function ua(a,l,o=!1,r=!1,n=!1){var t=a,s="";z(()=>{var i=A;if(s===(s=l()??"")){$&&I();return}if(i.nodes_start!==null&&(B(i.nodes_start,i.nodes_end),i.nodes_start=i.nodes_end=null),s!==""){if($){M.data;for(var f=I(),h=f;f!==null&&(f.nodeType!==H||f.data!=="");)h=f,f=K(f);if(f===null)throw Y(),F;O(M,h),t=G(f);return}var v=s+"";o?v=`<svg>${v}</svg>`:r&&(v=`<math>${v}</math>`);var c=J(v);if((o||r)&&(c=b(c)),O(b(c),c.lastChild),o||r)for(;b(c);)t.before(b(c));else t.before(c)}})}function ka(a,l,o=l){var r=new WeakSet;P(a,"input",async n=>{var t=n?a.defaultValue:a.value;if(t=w(a)?E(t):t,o(t),g!==null&&r.add(g),await Q(),t!==(t=l())){var s=a.selectionStart,i=a.selectionEnd;a.value=t??"",i!==null&&(a.selectionStart=s,a.selectionEnd=Math.min(i,a.value.length))}}),($&&a.defaultValue!==a.value||D(l)==null&&a.value)&&(o(w(a)?E(a.value):a.value),g!==null&&r.add(g)),U(()=>{var n=l();if(a===document.activeElement){var t=X??g;if(r.has(t))return}w(a)&&n===E(a.value)||a.type==="date"&&!n&&!a.value||n!==a.value&&(a.value=n??"")})}function w(a){var l=a.type;return l==="number"||l==="range"}function E(a){return a===""?null:+a}var ma=ra("<svg><!></svg>"),ha=na("<span></span>");function wa(a,l){const o=_a(l,["children","$$slots","$$events","$$legacy"]);ea(l,!1);const r=p({name:"",loading:null,destroyed:!1});let n=p(!1),t=p(0),s=p();const i=d=>{typeof o.onLoad=="function"&&o.onLoad(d),ca()("load",{icon:d})};function f(){ta(t)}fa(()=>{C(n,!0)}),ia(()=>{k(r,e(r).destroyed=!0),e(r).loading&&(e(r).loading.abort(),k(r,e(r).loading=null))}),Z(()=>(e(t),sa(o),e(n),e(r),e(s),N),()=>{e(t);const d=!!o.ssr||e(n),_=da(o.icon,e(r),d,f,i);C(s,_?N(_.data,o):null),e(s)&&_.classes&&k(s,e(s).attributes.class=(typeof o.class=="string"?o.class+" ":"")+_.classes.join(" "))}),x(),va();var h=R(),v=S(h);{var c=d=>{var _=R(),j=S(_);{var V=m=>{var u=ma();T(u,()=>({...e(s).attributes}));var q=oa(u);ua(q,()=>(e(s),D(()=>e(s).body)),!0),la(u),y(m,u)},W=m=>{var u=ha();T(u,()=>({...e(s).attributes})),y(m,u)};L(j,m=>{e(s),D(()=>e(s).svg)?m(V):m(W,!1)})}y(d,_)};L(v,d=>{e(s)&&d(c)})}y(a,h),aa()}export{wa as I,ka as b,ua as h};
