import{p as y,o as W,i as X,s as U,a as C}from"./translation.DCn8DOkH.js";import{f as S,a as P,p as Z,b as $,s as tt,m as et,g as e,r as l,c as o,d as m,u as n,t as D,e as g,h as M}from"./render.B05QVr9L.js";import{e as N,i as B}from"./each.ChEmJN3P.js";import{I as k}from"./zh_TW.GNQQ5Uve.js";import{g as at}from"./url-utils.Btk-Imyz.js";var rt=S(`<a class="group btn-plain !block h-10 w-full rounded-lg hover:text-[initial]"><div class="flex flex-row justify-start items-center h-full"><div class="w-[15%] md:w-[10%] transition text-sm text-right text-neutral-600 dark:text-neutral-400"> </div> <div class="w-[15%] md:w-[10%] relative dash-line h-full flex items-center"><div class="transition-all mx-auto w-1 h-1 rounded group-hover:h-5
                       bg-[oklch(0.5_0.05_var(--hue))] group-hover:bg-[var(--primary)]
                       outline outline-4 z-50
                       outline-[var(--card-bg)]
                       group-hover:outline-[var(--btn-plain-bg-hover)]
                       group-active:outline-[var(--btn-plain-bg-active)]"></div></div> <div class="w-[70%] md:max-w-[65%] md:w-[65%] text-left font-bold
                     group-hover:translate-x-1 transition-all group-hover:text-[var(--primary)]
                     text-75 pr-8 whitespace-nowrap overflow-ellipsis overflow-hidden"> </div> <div class="hidden md:block md:w-[15%] text-left text-sm transition
                     whitespace-nowrap overflow-ellipsis overflow-hidden text-30"> </div></div></a>`),it=S(`<div><div class="flex flex-row w-full items-center h-[3.75rem]"><div class="w-[15%] md:w-[10%] transition text-2xl font-bold text-right text-75"> </div> <div class="w-[15%] md:w-[10%]"><div class="h-3 w-3 bg-none rounded-full outline outline-[var(--primary)] mx-auto
                  -outline-offset-[2px] z-50 outline-3"></div></div> <div class="w-[70%] md:w-[80%] transition text-left text-neutral-600 dark:text-neutral-400"> </div></div> <!></div>`),st=S('<div class="card-base px-8 py-6"></div>');function ut(F,f){$(f,!1);let h=y(f,"tags",12),x=y(f,"categories",12),K=y(f,"sortedPosts",24,()=>[]);const v=new URLSearchParams(window.location.search);h(v.has("tag")?v.getAll("tag"):[]),x(v.has("category")?v.getAll("category"):[]);const L=v.get("uncategorized");function O(a){const r=a.data.customSlug||a.slug;return at(r)}let A=et([]);function R(a){const r=(a.getMonth()+1).toString().padStart(2,"0"),d=a.getDate().toString().padStart(2,"0");return`${r}-${d}`}function T(a){return a.map(r=>`#${r}`).join(" ")}W(async()=>{let a=K();h().length>0&&(a=a.filter(t=>Array.isArray(t.data.tags)&&t.data.tags.some(i=>h().includes(i)))),x().length>0&&(a=a.filter(t=>t.data.category&&x().includes(t.data.category))),L&&(a=a.filter(t=>!t.data.category));const r=a.reduce((t,i)=>{const u=i.data.published.getFullYear();return t[u]||(t[u]=[]),t[u].push(i),t},{}),d=Object.keys(r).map(t=>({year:Number.parseInt(t),posts:r[Number.parseInt(t)]}));d.sort((t,i)=>i.year-t.year),tt(A,d)}),X();var p=st();N(p,5,()=>e(A),B,(a,r)=>{var d=it(),t=o(d),i=o(t),u=o(i,!0);l(i);var z=m(i,4),Y=o(z);l(z),l(t);var q=m(t,2);N(q,1,()=>(e(r),n(()=>e(r).posts)),B,(w,s)=>{var c=rt(),I=o(c),b=o(I),E=o(b,!0);l(b);var _=m(b,4),G=o(_,!0);l(_);var j=m(_,2),H=o(j,!0);l(j),l(I),l(c),D((J,Q,V)=>{U(c,"href",J),U(c,"aria-label",(e(s),n(()=>e(s).data.title))),g(E,Q),g(G,(e(s),n(()=>e(s).data.title))),g(H,V)},[()=>(e(s),n(()=>O(e(s)))),()=>(e(s),n(()=>R(e(s).data.published))),()=>(e(s),n(()=>T(e(s).data.tags)))]),P(w,c)}),l(d),D(w=>{g(u,(e(r),n(()=>e(r).year))),g(Y,`${e(r),n(()=>e(r).posts.length)??""} ${w??""}`)},[()=>(M(C),e(r),M(k),n(()=>C(e(r).posts.length===1?k.postCount:k.postsCount)))]),P(a,d)}),l(p),P(F,p),Z()}export{ut as default};
